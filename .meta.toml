# Generated from:
# https://github.com/zopefoundation/meta/tree/master/config/zope-product
[meta]
template = "zope-product"
commit-id = "4f0f7596"

[python]
with-windows = false
with-pypy = false
with-future-python = false
with-docs = true
with-sphinx-doctests = false
with-macos = false

[tox]
use-flake8 = true
additional-envlist = [
    "py35",
    "py36",
    ]
testenv-commands-pre = [
    "py35,py36: {envbindir}/buildout -nc {toxinidir}/buildout4.cfg buildout:directory={envdir} buildout:develop={toxinidir} install test",
    "!py35-!py36: {envbindir}/buildout -nc {toxinidir}/buildout.cfg buildout:directory={envdir} buildout:develop={toxinidir} install test",
    ]

[manifest]
additional-rules = [
    "include buildout4.cfg",
    "recursive-include src *.dtml",
    "recursive-include src *.jpg",
    "recursive-include src *.zcml",
    ]

[coverage]
fail-under = 81

[isort]
known_third_party = "ldap, ldapurl, six"
known_first_party = "dataflake, Products.GenericSetup"

[github-actions]
additional-config = [
    "- [\"3.5\",   \"py35\"]",
    "- [\"3.6\",   \"py36\"]",
    ]
additional-install = [
    "set -ex",
    "sudo apt update",
    "sudo apt install -y ldap-utils slapd libldap2-dev libsasl2-dev",
    ]
